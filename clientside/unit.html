<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<head profile="http://gmpg.org/xfn/11">
	
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Rocca JS Unit</title>

<style type="text/css">


</style>


<script src="js/jquery-latest.min.js" type="text/javascript"></script>
<!-- <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script> -->

<script src="js/string_format.js" type="text/javascript"></script>
<!-- <script src="js/jquery.geko_util.js" type="text/javascript"></script> -->

<script src="library/Rocca.js" type="text/javascript"></script>
<script src="library/Rocca/Dispatcher.js" type="text/javascript"></script>
<script src="library/Rocca/Model.js" type="text/javascript"></script>
<script src="library/Rocca/Collection.js" type="text/javascript"></script>
<script src="library/Rocca/View.js" type="text/javascript"></script>
<script src="library/Rocca/View/Item.js" type="text/javascript"></script>
<script src="library/Rocca/View/List.js" type="text/javascript"></script>
<script src="library/Rocca/Inspector.js" type="text/javascript"></script>

<script src="library/Rocca/UnitTest.js" type="text/javascript"></script>
<script src="library/Rocca/UnitTest/Compare.js" type="text/javascript"></script>
<script src="library/Rocca/UnitTest/Compare/StrictlyEqual.js" type="text/javascript"></script>
<script src="library/Rocca/UnitTest/Result.js" type="text/javascript"></script>
<script src="library/Rocca/UnitTest/Result/Collection.js" type="text/javascript"></script>


<script src="library/RoccaTest.js" type="text/javascript"></script>




<script type="text/javascript">

var TestView = Rocca.extend( Rocca.View, {
	
	tmpl: '<table>' + 
		'<tbody><\/tbody>' + 
	'<\/table>',
	
	postInit: function() {
	
		var _this = this;
		
		this.results.each( function( k, v ) {
			
			var eTr = $( '<tr><\/tr>' );
			
			var aFields = [ 'key', 'fail_message', 'expected_value', 'result_value' ];
			
			Rocca.each( aFields, function( i1, v1 ) {
				
				var eTd = $( '<td><\/td>' ).html( v.get( v1 ) );
				eTr.append( eTd );
				
			} );
			
			_this.$append( 'tbody', eTr );
			
		} );
		
	}
	
} );


jQuery( document ).ready( function( $ ) {
	
	RoccaTest.init().run();
	
	var oTestView = Rocca.extend( TestView, {
		results: RoccaTest.results
	} ).init();
	
	$( 'hr' ).after( oTestView.$el );
	
} );


</script>

	
</head>

<body>

<h1>Rocca JS Unit</h1>

<hr />



</body>

</html>