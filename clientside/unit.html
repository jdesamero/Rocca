<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<head profile="http://gmpg.org/xfn/11">
	
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Rocca JS Unit</title>

<style type="text/css">


</style>


<script src="js/jquery-latest.min.js" type="text/javascript"></script>
<!-- <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script> -->

<script src="js/string_format.js" type="text/javascript"></script>
<!-- <script src="js/jquery.geko_util.js" type="text/javascript"></script> -->

<script src="library/Rocca.js" type="text/javascript"></script>
<script src="library/Rocca/Dispatcher.js" type="text/javascript"></script>
<script src="library/Rocca/Model.js" type="text/javascript"></script>
<script src="library/Rocca/Collection.js" type="text/javascript"></script>
<script src="library/Rocca/View.js" type="text/javascript"></script>
<script src="library/Rocca/View/Item.js" type="text/javascript"></script>
<script src="library/Rocca/View/List.js" type="text/javascript"></script>
<script src="library/Rocca/Inspector.js" type="text/javascript"></script>

<script src="library/Rocca/UnitTest.js" type="text/javascript"></script>
<script src="library/Rocca/UnitTest/Compare.js" type="text/javascript"></script>
<script src="library/Rocca/UnitTest/Compare/StrictlyEqual.js" type="text/javascript"></script>
<script src="library/Rocca/UnitTest/Result.js" type="text/javascript"></script>
<script src="library/Rocca/UnitTest/Result/Collection.js" type="text/javascript"></script>


<script src="library/RoccaTest.js" type="text/javascript"></script>

<script type="text/javascript">

( function( $, _r ) {
	
	var ItemView = _r.extend( _r.View.Item, {
		
		tmpl: _r.tmpl( '#item-view-tmpl' ),
		
		updateView: function() {
			
			var oModel = this.model;
			
			this
				.$html( '[data-field="key"]', oModel.get( 'key' ) )
				.$html( '[data-field="fail_message"]', oModel.get( 'fail_message' ) )
				.$html( '[data-field="expected_value"]', oModel.get( 'expected_value' ) )
				.$html( '[data-field="result_value"]', oModel.get( 'result_value' ) )
			;
			
		}
		
	} );
	
	var ListView = _r.extend( _r.View.List, {
		
		tmpl: _r.tmpl( '#list-view-tmpl' ),
		
		appendTarget: 'tbody',
		
		itemView: ItemView
		
	} );
	
	
	// ---------------------------------------------------------------------------------------------
	
	
	$( document ).ready( function() {
		
		RoccaTest.init().run();
		
		var oListView = _r.extend( ListView, {
			collection: RoccaTest.results
		} ).init();
		
		$( 'hr' ).after( oListView.$el );
		
	} );
	
} )( jQuery, Rocca );

</script>

	
</head>

<body>

<h1>Rocca JS Unit</h1>

<hr />

<script id="list-view-tmpl" type="text/x-jquery-tmpl">
	<table>
		<thead>
			<tr>
				<th>Key</th>
				<th>Fail Message</th>
				<th>Expected Value</th>
				<th>Result Value</th>
			</tr>
		</thead>
		<tbody></tbody>
	</table>
</script>

<script id="item-view-tmpl" type="text/x-jquery-tmpl">
	<tr>
		<td data-field="key"></td>
		<td data-field="fail_message"></td>
		<td data-field="expected_value"></td>
		<td data-field="result_value"></td>
	</tr>
</script>


</body>

</html>